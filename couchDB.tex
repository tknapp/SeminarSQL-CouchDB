\section{CouchDB als Beispiel einer nicht-relationalen Datenbank}
\label{couchDB}

CouchDB gehört zur Klasse sogenannten der NoSQL-Datenbanken. Dieser Begriff wurde Ende der 1990er Jahre geprägt, konnte jedoch seitdem nicht eindeutig definiert werden. Zwar gibt es ein NoSQL-Archiv \cite{nosqlArchiv}, das sich um eine Definiton bemüht hat, jedoch ist diese nicht in allen Punkten allgemein anerkannt und bietet nur eine Orientierung \cite[S. 2 ff.]{nosqlBuch}.\\
"`NoSQL"' bedeutet im Kern, dass eine entsprechende Datenbank nicht dem weit verbreiteten relationalen Modell entspricht. Da die diese Art der Datenbanken vor allem unter dem Druck wachsender Datenmengen im Internet entstanden ist, die nicht mehr auf einzelne große Datenträger passten, sind Verteiltheit und horizontale Skalierbarkeit Teil des Konzepts. "`Horizontale Skalierbarkeit"' steht für die Möglichkeit, zusätzliche Knoten (physische oder virtuelle Rechner) in eine Menge von Speicherknoten einzufügen (\textit{Scale out}) und nicht die schon bestehenden Knoten mit mehr Leistung auszustatten (\textit{Scale up}).\\
Neben dieser Eigenschaft haben viele NoSQL-Datenbanken entweder kein oder nur ein schwaches vorgegebenes Schema, in dem die Daten gespeichert werden müssen. Auch dies ist den Anforderungen des Web 2.0 geschuldet, denn Web-Anwendungen müssen häufig eine höhere Flexibilität aufweisen als beispielsweise eine gewachsene Unternehmensdatenbank. \\
Ein weiterer wichtiger Punkt im Zusammenhang mit verteilten Systemen ist eine einfache Möglicht der Replikation einer Datenbank, um Ausfallsicherheit zu gewährleisten. Ist ein System von Anfang darauf ausgelegt, kann sich ein Entwickler viel Zeit sparen.\\
Der letzte Punkt, der nahezu von allen NoSQL-Datenbanken erfüllt ist, ist die Verwendung eines Konsistenzmodells, dass nicht auf absolute Konsistenz abzielt, sondern mögliche inkonsistente Zustände für einen gewissen Zeitraum zulässt. Dies ist möglich, da viele Web-Anwendungen keine besonders kritischen Daten verwalten. In sozialen Netzwerken bespielsweise ist es nicht unbedingt nötig, dass alle die gleichen Daten sehen. Sieht ein Nutzer eventuell erst mit Verzögerung einen aktuellen Pinnwandeintrag oder ein aktualisiertes Foto, wird das keine schlimmen Folgen haben.\\
NoSQL-Datenbanken lassen sich vor allem über ihre Datenorganisation kategorisieren:

\begin{center}
	\begin{tabular}{|l|p{9cm}|}
				\hline
				Key/Value & Hier wird ein einfaches Schema aus Schlüsseln und Werten angeboten, das es ermöglicht, 																Daten effizient und schnell zu verwalten. Diesen Systemen fehlt es allerdings häufig an 											Abfragemächtigkeit.\\
				\hline
				Column-Family & bla\\
				\hline
	\end{tabular}
\end{center}


CouchDB zählt zur Kategorie der dokumentenorientierten Datenbanken. Dies bedeutet, dass Daten nicht in vorgegebenen Tabellen mit bestimmten Attributen wie im relationalen Fall abgelegt werden, sondern als Dokumente so, wie sie im "`realen"' Leben vorkommen, abgespeichert werden. Das einzige, schwache einzuhaltende Schema ist, dass die Dokumente im JSON-Format (Java Script Object Notation) vorliegen müssen. Dokumente könnten beispielsweise Rechnungen, Visitenkarten oder Buchbeschreibungen sein. Folglich enthält CouchDB also semi-strukturierte Daten, da zwar eine grundsätzliche Syntax ähnlich wie bei XML eingehalten werden muss, aber keine sonstige Struktur vorgegeben ist. Dies bringt Flexibilität, da so Dokumente mit zusätzlichen Attributen abgespeichert werden können, ohne ein zugrundeliegendes Schema ändern zu müssen.\\
CouchDB ist von vorn herein auf verteilte Datenhaltung und Replikation ausgelegt. Es ist eine Server-Datenbank und bietet zur Kommunikation eine RESTful JSON API (Application Programming Interface). \textit{REST} steht für \textit{REpresentational State Transfer} und ist ein Architekturstil für verteilte Systeme. Die Kommunikation läuft meist über HTTP (HyperTextTransferProtocol) und die größte Implementierung dieses Stils ist das World Wide Web. Angenommen wird, dass es einen Klienten und einen Server gibt, zwischen denen Nachrichten hin und her geschickt werden. Es soll eine zustandslose Interaktion sein, was bedeutet, dass in der Nachricht selbst die Repräsentation des Zustandes einer Ressource enthalten ist und nicht ein Zustand beim Sender oder Empfänger der Nachricht gehalten wird. CouchDB nutzt REST, um die Verwaltung der Datenbanken mit Hilfe von HTTP zu realisieren. Außerdem bietet es eine Web-Schnittstelle namens \textit{Futon} zur Verwaltung im Browser.\\
Replikation wird von CouchDB in inkrementeller Weise unterstützt. Werden von CouchDB Daten mehrere Datenbanken synchronisiert, werden nur die Änderungen Schritt für Schritt übertragen. Sollte zwischendurch die Verbindung zusammenbrechen, kann später einfach an der Stelle weitergemacht werden, an der die Synchronisation unterbrochen wurde. Ein Grundannahme von CouchDB ist, dass Fehler passieren werden und in Folge dessen war Fehlertolleranz ein Kernaspekt beim Entwurf der Datenbank.\\
Wie die meisten NoSQL-Datenbanken setzt auch CouchDB auf ein anderes Konsistenzmodell als die klassischen relationalen Datenbanken. Es verfolgt den Ansatz der \textit{eventual consistency}. Hier muss nicht jeder Nutzer zu jedem Zeitpunkt die gleichen Daten sehen, sondern es wird nur angenommen, dass die Daten letztendlich konsistent sein werden. Für den Zeitraum der Synchronisation sind in bei diesem Konzept Lesezugriffe auf die Datenbank möglich.